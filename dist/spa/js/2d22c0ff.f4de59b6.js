(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d22c0ff"],{f241:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh LpR fFf"}},[a("q-header",{attrs:{elevated:"",reveal:!this.$q.platform.is.desktop}},[a("q-toolbar",[a("q-toolbar-title",[a("router-link",{attrs:{id:"title",to:{name:"main"}}},[t._v("\n          ICEMEME\n        ")])],1),t.loggedIn?t._e():a("q-btn",{attrs:{flat:"",stretch:""},on:{click:function(e){t.prompt=!0}}},[t._v("\n        Log In\n      ")]),a("q-dialog",{model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[a("login-dialog")],1),t.loggedIn?t._e():a("q-btn",{attrs:{flat:"",stretch:"",to:{name:"register"}}},[t._v("\n        Sign Up\n      ")]),t.loggedIn?a("q-btn",{attrs:{flat:"",stretch:"","no-caps":"",to:{name:"user",params:{username:t.username}}}},[t._v("\n        "+t._s(t.username)+"\n      ")]):t._e(),t.loggedIn?a("q-btn",{attrs:{flat:"",stretch:""},on:{click:t.logout}},[t._v("\n        Log Out\n      ")]):t._e(),a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu"},on:{click:function(e){t.rightDrawerOpen=!t.rightDrawerOpen}}},[a("q-icon",{attrs:{name:"menu"}})],1)],1)],1),a("q-drawer",{attrs:{side:"right",bordered:"","content-class":"bg-grey-2"},model:{value:t.rightDrawerOpen,callback:function(e){t.rightDrawerOpen=e},expression:"rightDrawerOpen"}},[a("q-list",[a("q-item-label",{attrs:{header:""}},[t._v("\n        "+t._s(t.username)+"\n      ")]),a("q-item",{attrs:{clickable:"",tag:"a",exact:"",to:{name:"main"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"whatshot"}})],1),a("q-item-section",[a("q-item-label",[t._v("Latest")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n            Main Page\n          ")])],1)],1),t.loggedIn?[a("q-item",{attrs:{clickable:"",tag:"a",to:{name:"user",params:{username:t.username}}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"person"}})],1),a("q-item-section",[a("q-item-label",[t._v("My Page")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n              User Profile\n            ")])],1)],1),a("q-item",{attrs:{clickable:"",tag:"a",to:{name:"new"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"cloud_upload"}})],1),a("q-item-section",[a("q-item-label",[t._v("Upload")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n              New Meme\n            ")])],1)],1),a("q-item",{attrs:{clickable:"",tag:"a",to:{name:"settings"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"settings"}})],1),a("q-item-section",[a("q-item-label",[t._v("Settings")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n              Account Settings\n            ")])],1)],1),a("q-item",{attrs:{clickable:"",tag:"a"},on:{click:t.logout}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"exit_to_app"}})],1),a("q-item-section",[a("q-item-label",[t._v("Log out")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n              Sign out\n            ")])],1)],1)]:t._e(),a("q-item",{attrs:{clickable:"",tag:"a",onclick:"location.href='mailto:icememe.moderator@gmail.com'"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mail"}})],1),a("q-item-section",[a("q-item-label",[t._v("Contact the administrator")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n            Email\n          ")])],1)],1)],2)],1),a("q-page-container",[a("router-view")],1)],1)},r=[],o=a("3156"),i=a.n(o),s=a("0967"),l=a("2b0e"),c=function(t,e){var a=window.open;if(!0===s["a"].is.cordova){if(void 0!==cordova&&void 0!==cordova.InAppBrowser&&void 0!==cordova.InAppBrowser.open)a=cordova.InAppBrowser.open;else if(void 0!==navigator&&void 0!==navigator.app)return navigator.app.loadUrl(t,{openExternal:!0})}else if(void 0!==l["a"].prototype.$q.electron)return l["a"].prototype.$q.electron.shell.openExternal(t);var n=a(t,"_blank");if(n)return n.focus(),n;e&&e()},m=a("2f62"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticStyle:{"min-width":"25%"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("\n      Log in\n    ")])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("q-card-section",[a("q-input",{attrs:{autofocus:"",dense:"",filled:"",placeholder:"Username",rules:[function(t){return t.length<=20||"Usernames are no longer than 20 characters"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("q-card-section",[a("q-input",{attrs:{type:"password",dense:"",filled:"",placeholder:"Password",rules:[function(t){return t.length<=100||"Passwords are no longer than 100 characters"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("q-card-section",{staticClass:"text-primary row justify-around",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Log in",type:"submit",disable:!t.readyToSubmit}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}})],1)],1),a("q-card-section",[a("div",[t._v("\n      New to IceMeme?\n      "),a("router-link",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{to:{name:"register"}}},[t._v("\n        Sign up.\n      ")])],1)])],1)},u=[],d={name:"LoginDialog",data:function(){return{username:"",password:""}},computed:{readyToSubmit:function(){return this.username&&this.password&&this.username.length<=20&&this.password.length<=100}},methods:{onSubmit:function(){this.readyToSubmit&&this.$socket.emit("login",{username:this.username,password:this.password})}}},g=d,q=a("2877"),v=Object(q["a"])(g,p,u,!1,null,null,null),b=v.exports,f={name:"MyLayout",components:{"login-dialog":b},data:function(){return{rightDrawerOpen:this.$q.platform.is.desktop,prompt:!1}},computed:i()({},Object(m["b"])(["username","loggedIn"])),watch:{loggedIn:function(){this.prompt=!1}},methods:{openURL:c,logout:function(){this.$socket.emit("logout")}}},h=f,w=Object(q["a"])(h,n,r,!1,null,null,null);e["default"]=w.exports}}]);
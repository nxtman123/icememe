(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["51fd3dba"],{"67b2":function(a,e,t){"use strict";var s=t("b8f7"),n=t.n(s);n.a},b41f:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("q-page",{staticClass:"page-frame"},[t("div",{staticClass:"text-h6 q-py-md"},[a._v("\n    Settings\n  ")]),a.loggedIn?[t("q-btn",{staticClass:"full-width",staticStyle:{margin:"5px"},attrs:{color:"primary",label:"Change Username"},on:{click:function(e){a.usernameDialog=!0}}}),t("q-btn",{staticClass:"full-width",staticStyle:{margin:"5px"},attrs:{color:"primary",label:"Change Email"},on:{click:function(e){a.emailDialog=!0}}}),t("q-btn",{staticClass:"full-width",staticStyle:{margin:"5px"},attrs:{color:"primary",label:"Change Password"},on:{click:function(e){a.passwordDialog=!0}}})]:[t("div",{staticClass:"text-body1"},[a._v("\n      You must be logged in to adjust settings.\n    ")])],t("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{hide:a.clearUsernameForm},model:{value:a.usernameDialog,callback:function(e){a.usernameDialog=e},expression:"usernameDialog"}},[t("q-card",{staticStyle:{width:"400px"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[a._v("\n          Change Username\n        ")])]),t("form",{on:{submit:function(e){return e.preventDefault(),a.usernameSubmit(e)}}},[t("q-card-section",[t("q-input",{attrs:{autofocus:"",label:"Username","lazy-rules":"",maxlength:"20",rules:[function(a){return a.length||"Username cannot be blank"}]},model:{value:a.username,callback:function(e){a.username=e},expression:"username"}}),t("q-input",{attrs:{label:"Confirm Username","lazy-rules":"",maxlength:"20",rules:[function(a){return a.length||"Username cannot be blank"},function(){return a.username===a.confirmUsername||"Usernames do not match"}]},model:{value:a.confirmUsername,callback:function(e){a.confirmUsername=e},expression:"confirmUsername"}})],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{disable:!a.usernameReady,label:"submit",type:"submit",color:"primary"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"cancel",type:"button",color:"primary",flat:""}})],1)],1)],1)],1),t("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{hide:a.clearEmailForm},model:{value:a.emailDialog,callback:function(e){a.emailDialog=e},expression:"emailDialog"}},[t("q-card",{staticStyle:{width:"400px"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[a._v("\n          Change Email\n        ")])]),t("form",{on:{submit:function(e){return e.preventDefault(),a.emailSubmit(e)}}},[t("q-card-section",[t("q-input",{attrs:{autofocus:"",label:"Email",type:"email","lazy-rules":"",maxlength:"50",rules:[function(a){return a.length||"Email cannot be blank"},function(){return a.emailIsEmail||"Email is invalid"}]},model:{value:a.email,callback:function(e){a.email=e},expression:"email"}}),t("q-input",{attrs:{label:"Confirm Email",type:"email","lazy-rules":"",maxlength:"50",rules:[function(a){return a.length||"Email cannot be blank"},function(){return a.email===a.confirmEmail||"Emails do not match"},function(){return a.emailIsEmail||"Email is invalid"}]},model:{value:a.confirmEmail,callback:function(e){a.confirmEmail=e},expression:"confirmEmail"}})],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{disable:!a.emailReady,label:"submit",type:"submit",color:"primary"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"cancel",type:"button",color:"primary",flat:""}})],1)],1)],1)],1),t("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{hide:a.clearPasswordForm},model:{value:a.passwordDialog,callback:function(e){a.passwordDialog=e},expression:"passwordDialog"}},[t("q-card",{staticStyle:{width:"400px"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[a._v("\n          Change Password\n        ")])]),t("form",{on:{submit:function(e){return e.preventDefault(),a.passwordSubmit(e)}}},[t("q-card-section",[t("q-input",{attrs:{autofocus:"",label:"Old Password",type:"password","lazy-rules":"",rules:[function(a){return a.length||"Password cannot be blank"}]},model:{value:a.oldPassword,callback:function(e){a.oldPassword=e},expression:"oldPassword"}}),t("q-input",{attrs:{label:"New Password",type:"password","lazy-rules":"",rules:[function(a){return a.length||"Password cannot be blank"}]},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}}),t("q-input",{attrs:{label:"Confirm Password",type:"password","lazy-rules":"",rules:[function(a){return a.length||"Password cannot be blank"},function(){return a.password===a.confirmPassword||"Passwords do not match"}]},model:{value:a.confirmPassword,callback:function(e){a.confirmPassword=e},expression:"confirmPassword"}})],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{disable:!a.passwordReady,label:"submit",type:"submit",color:"primary"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"cancel",type:"button",color:"primary",flat:""}})],1)],1)],1)],1)],2)},n=[],i=t("3156"),r=t.n(i),o=t("2f62"),l=t("f90c"),c={name:"Settings",data:function(){return{usernameDialog:!1,username:"",confirmUsername:"",emailDialog:!1,email:"",confirmEmail:"",passwordDialog:!1,oldPassword:"",password:"",confirmPassword:""}},computed:r()({},Object(o["b"])(["loggedIn"]),{usernameReady:function(){return this.loggedIn&&this.username.length&&this.username===this.confirmUsername},emailIsEmail:function(){return l.isEmail(this.email)},emailReady:function(){return this.loggedIn&&this.email.length&&this.emailIsEmail&&this.email===this.confirmEmail},passwordReady:function(){return this.loggedIn&&this.oldPassword.length&&this.password.length&&this.password===this.confirmPassword}}),watch:{loggedIn:function(a){a||this.$router.push({name:"main"})}},methods:{clearUsernameForm:function(){this.username="",this.confirmUsername=""},usernameSubmit:function(){this.usernameReady&&(this.$socket.emit("updateUsername",this.username),this.usernameDialog=!1)},clearEmailForm:function(){this.email="",this.confirmEmail=""},emailSubmit:function(){this.emailReady&&(this.$socket.emit("updateEmail",this.email),this.emailDialog=!1)},clearPasswordForm:function(){this.oldPassword="",this.password="",this.confirmPassword=""},passwordSubmit:function(){var a=this;this.passwordReady&&this.$socket.emit("updatePassword",this.oldPassword,this.password,function(e){e.isSuccessful?(a.$q.notify({icon:"done",color:"positive",message:e.value}),a.passwordDialog=!1):a.$q.notify({icon:"error",color:"negative",message:e.value})})}}},m=c,u=(t("67b2"),t("2877")),d=Object(u["a"])(m,s,n,!1,null,null,null);e["default"]=d.exports},b8f7:function(a,e,t){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["8e76b85a"],{"8b24":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"column page-frame"},[s("meme-collection")],1)},a=[],o=s("ff44"),m={name:"PageIndex",components:{"meme-collection":o["a"]}},r=m,l=s("2877"),i=Object(l["a"])(r,n,a,!1,null,null,null);t["default"]=i.exports},b43b:function(e,t,s){},bbe5:function(e,t,s){"use strict";var n=s("b43b"),a=s.n(n);a.a},ff44:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-infinite-scroll",{attrs:{offset:250,disable:!e.moreToGo},on:{load:e.loadMoreMemes},scopedSlots:e._u([{key:"loading",fn:function(){return[s("div",{staticClass:"row justify-center q-my-md"},[s("q-spinner",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},[s("masonry",{staticClass:"q-pt-md",attrs:{gutter:16,cols:{default:3,1024:2,600:1}}},e._l(e.sortedMemes,function(t){return s("meme-card",e._b({key:t.id,staticClass:"q-pb-md"},"meme-card",t,!1))}),1)],1)},a=[],o=(s("55dd"),s("3156")),m=s.n(o),r=s("2f62"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 col-sm-6 col-md-4"},[s("q-card",[s("router-link",{staticClass:"title",staticStyle:{"box-sizing":"inherhit"},attrs:{to:{name:"meme",params:{memeId:e.memeId,slug:e.slugTitle}}}},[s("q-card-section",{staticClass:"text-h6"},[e._v("\n        "+e._s(e.title)+"\n      ")]),s("q-img",{attrs:{"spinner-color":"primary",src:e.cloudinaryUrl,alt:e.title}})],1),s("q-card-section",{staticClass:"q-pb-sm"},[s("meme-metadata",{attrs:{username:e.username,"date-created":e.dateCreated}}),s("div",{staticClass:"row justify-between"},[s("vote-buttons",{staticClass:"q-mb-sm q-mr-sm",attrs:{"meme-id":e.memeId,"up-votes":e.upVotes,"down-votes":e.downVotes,"user-vote":e.userVote}}),s("q-btn",{staticClass:"q-mb-sm",attrs:{outline:"",icon:"comment",label:e.commentCount||0,to:{name:"meme",params:{memeId:e.memeId,slug:e.slugTitle},hash:"#comments"}}})],1)],1)],1)],1)},i=[],u=(s("6762"),s("2fdb"),s("c5f6"),s("b747")),c=s.n(u),d=s("0072"),f=s("e43f"),p={name:"MemeCard",components:{"vote-buttons":d["a"],"meme-metadata":f["a"]},props:{memeId:{type:Number,default:-1},username:{type:String,default:""},title:{type:String,default:""},cloudinaryUrl:{type:String,default:""},dateCreated:{type:String,default:""},upVotes:{type:Number,default:0},downVotes:{type:Number,default:0},userVote:{type:String,default:null,validator:function(e){return["up","down",null].includes(e)}},commentCount:{type:Number,default:0}},computed:{slugTitle:function(){return c()(this.title,{remove:/[*+~,.()'"!:@]/g})}}},b=p,g=(s("bbe5"),s("2877")),h=Object(g["a"])(b,l,i,!1,null,null,null),y=h.exports,v={name:"MemeCollection",components:{"meme-card":y},props:{username:{type:String,default:""}},data:function(){return{memes:[],moreToGo:!0}},computed:m()({},Object(r["b"])(["loggedIn"]),{sortedMemes:function(){return this.memes.slice().sort(function(e,t){return e.memeId<t.memeId})},earliestMeme:function(){return this.memes.length?this.memes.reduce(function(e,t){return Math.min(e,t.memeId)},1/0):0}}),watch:{loggedIn:function(){var e=this;this.memes=[],this.loadMoreMemes(null,function(){e.moreToGo=!0})}},methods:{loadMoreMemes:function(e,t){var s=this;this.$socket.emit("getMemes",this.username,this.earliestMeme,function(e){e.isSuccessful?e.value.length?s.memes=s.memes.concat(e.value):s.moreToGo=!1:s.$q.notify(e.value),t()})}}},C=v,q=Object(g["a"])(C,n,a,!1,null,null,null);t["a"]=q.exports}}]);